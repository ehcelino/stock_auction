<%= form_with model: @category do |f| %>
  <%= render "form_errors", object: @category %>

  <% invalid = @category.errors.include?(:name) %>
  <div class="field mb-3">
    <%= f.label :name, class:"form-label" %>
    <%= f.text_field :name, autofocus: true, class:"form-control #{'is-invalid' if invalid}" %>
    <% if invalid %>
      <div class="invalid-feedback d-block">
        <% @category.errors.full_messages_for(:name).each do |error_message| %>
          <%= error_message %>.
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="actions mb-3">
    <%= f.submit "Cadastrar", class:"btn btn-secondary" %>
  </div>
<% end %>
