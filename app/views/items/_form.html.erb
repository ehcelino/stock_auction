<%= form_with model: item do |f| %>
  <%# render "form_errors", object: item %>

  <% invalid = item.errors.include?(:name) %>
  <div class="form-group field mb-3">
    <%= f.label :name, class:"form-label" %>
    <%= f.text_field :name, autofocus: true, class:"form-control #{'is-invalid' if invalid}" %>
    <% if invalid %>
      <div class="invalid-feedback d-block">
        <% item.errors.full_messages_for(:name).each do |error_message| %>
          <%= error_message %>.
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="field mb-3">
    <%= f.label :description, class:"form-label" %>
    <%= f.text_area :description, class:"form-control" %>
  </div>

  <% invalid = item.errors.include?(:weight) %>
  <div class="form-group field mb-3">
    <%= f.label :weight, class:"form-label" %>
    <span>(gramas)</span>
    <%= f.number_field :weight, class:"form-control #{'is-invalid' if invalid}" %>
    <% if invalid %>
      <div class="invalid-feedback d-block">
        <% item.errors.full_messages_for(:weight).each do |error_message| %>
          <%= error_message %>.
        <% end %>
      </div>
    <% end %>
  </div>

  <div>
    <span class="text-primary">Dimens√µes</span>
  </div>

  <div class="row mb-3">
    <div class="col">
      <% invalid = item.errors.include?(:width) %>
      <%= f.label :width, class:"form-label" %>
      <span>(cm)</span>
      <%= f.number_field :width, class:"form-control #{'is-invalid' if invalid}" %>
      <% if invalid %>
        <div class="invalid-feedback d-block">
          <% item.errors.full_messages_for(:width).each do |error_message| %>
            <%= error_message %>.
          <% end %>
        </div>
      <% end %>
    </div>

    <div class="col">
      <% invalid = item.errors.include?(:height) %>
      <%= f.label :height, class:"form-label" %>
      <span>(cm)</span>
      <%= f.number_field :height, class:"form-control #{'is-invalid' if invalid}" %>
      <% if invalid %>
        <div class="invalid-feedback d-block">
          <% item.errors.full_messages_for(:height).each do |error_message| %>
            <%= error_message %>.
          <% end %>
        </div>
      <% end %>
    </div>

    <div class="col">
      <% invalid = item.errors.include?(:depth) %>
      <%= f.label :depth, class:"form-label" %>
      <span>(cm)</span>
      <%= f.number_field :depth, class:"form-control #{'is-invalid' if invalid}" %>
      <% if invalid %>
        <div class="invalid-feedback d-block">
          <% item.errors.full_messages_for(:depth).each do |error_message| %>
            <%= error_message %>.
          <% end %>
        </div>
      <% end %>
    </div>

  </div>

  <div class="field mb-3">
    <%= f.label :category_id, class:"form-label" %>
    <%= f.collection_select :category_id, categories, :id, :name, {}, { class:'form-select' } %>
  </div>

  <div class="field mb-3">
    <%= f.label :image, class:"form-label" %>
    <%= f.file_field :image, class:"form-control" %>
  </div>

  <div class="actions mb-3">
    <%= f.submit "Cadastrar", class:"btn btn-secondary" %>
  </div>
<% end %>
